{% extends "base.html" %}
{% load static %}
{% block title %}Ch·ªçn Nh√≥m Ng√†nh - CareerPath{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/quiz_university.css' %}">

<main class="cluster-selection-page section-padding">
    <div class="container text-center">
        <div class="header-final-image">
            <h2 class="title-final-image">
                B·∫Øt ƒê·∫ßu B√†i ƒê√°nh Gi√° K·ªπ NƒÉng
            </h2>
            <div class="divider-final-image"></div>
            <div class="subtitle-note-wrapper">
                <!-- Icon ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                <i class="fas fa-lightbulb note-icon"></i>
                <p class="subtitle-note">
                    H√£y ch·ªçn m·ªôt nh√≥m ng√†nh b·∫°n quan t√¢m nh·∫•t. K·∫øt qu·∫£ ƒë√°nh gi√° s·∫Ω ƒë∆∞·ª£c c√° nh√¢n h√≥a d·ª±a tr√™n l·ª±a ch·ªçn c·ªßa b·∫°n.
                </p>
            </div>
        </div>
        {% if error %}
            <div class="alert alert-danger mt-4" role="alert">{{ error }}</div>
        {% endif %}

        <form method="POST" action="{% url 'quiz_university:select_cluster_u' %}" id="cluster-form">
            {% csrf_token %}
            <input type="hidden" name="selected_cluster_code" id="selected_cluster_code">
            <input type="hidden" name="selected_cluster_name" id="selected_cluster_name">

            <div class="row g-4 justify-content-center mt-4">
                <!-- Social -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="cluster-card card-social" data-code="social" data-name="X√£ h·ªôi - Nh√¢n vƒÉn">
                        <div class="icon-wrapper"><span class="cluster-icon">üë•</span></div>
                        <span class="cluster-name">X√£ h·ªôi - Nh√¢n vƒÉn</span>
                        <span class="cluster-tagline">Th·∫•u hi·ªÉu, Chia s·∫ª, H∆∞·ªõng d·∫´n</span>
                        <span class="action-hint">Ch·ªçn nh√≥m n√†y <i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
                <!-- Business -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="cluster-card card-business" data-code="business" data-name="Qu·∫£n l√Ω ‚Äì Kinh doanh">
                        <div class="icon-wrapper"><span class="cluster-icon">üíº</span></div>
                        <span class="cluster-name">Qu·∫£n l√Ω ‚Äì Kinh doanh</span>
                        <span class="cluster-tagline">Chi·∫øn l∆∞·ª£c, L√£nh ƒë·∫°o, T·ªëi ∆∞u</span>
                        <span class="action-hint">Ch·ªçn nh√≥m n√†y <i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
                <!-- Tech -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="cluster-card card-tech" data-code="tech" data-name="C√¥ng ngh·ªá ‚Äì K·ªπ thu·∫≠t">
                        <div class="icon-wrapper"><span class="cluster-icon">üíª</span></div>
                        <span class="cluster-name">C√¥ng ngh·ªá ‚Äì K·ªπ thu·∫≠t</span>
                        <span class="cluster-tagline">Logic, S√°ng t·∫°o, X√¢y d·ª±ng</span>
                        <span class="action-hint">Ch·ªçn nh√≥m n√†y <i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
                <!-- Science -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="cluster-card card-science" data-code="science" data-name="Khoa h·ªçc T·ª± nhi√™n">
                        <div class="icon-wrapper"><span class="cluster-icon">üî¨</span></div>
                        <span class="cluster-name">Khoa h·ªçc T·ª± nhi√™n</span>
                        <span class="cluster-tagline">Nghi√™n c·ª©u, Kh√°m ph√°, Ph√¢n t√≠ch</span>
                        <span class="action-hint">Ch·ªçn nh√≥m n√†y <i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
                <!-- Health -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="cluster-card card-health" data-code="health" data-name="Y t·∫ø ‚Äì S·ª©c kh·ªèe">
                        <div class="icon-wrapper"><span class="cluster-icon">ü©∫</span></div>
                        <span class="cluster-name">Y t·∫ø ‚Äì S·ª©c kh·ªèe</span>
                        <span class="cluster-tagline">ChƒÉm s√≥c, T·∫≠n t√¢m, Ch√≠nh x√°c</span>
                        <span class="action-hint">Ch·ªçn nh√≥m n√†y <i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
                <!-- Arts -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="cluster-card card-arts" data-code="arts" data-name="S√°ng t·∫°o ‚Äì Ngh·ªá thu·∫≠t">
                        <div class="icon-wrapper"><span class="cluster-icon">üé®</span></div>
                        <span class="cluster-name">S√°ng t·∫°o ‚Äì Ngh·ªá thu·∫≠t</span>
                        <span class="cluster-tagline">Tinh t·∫ø, T·ª± do, C·∫£m x√∫c</span>
                        <span class="action-hint">Ch·ªçn nh√≥m n√†y <i class="fas fa-arrow-right"></i></span>
                    </div>
                </div>
            </div>
        </form>
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const clusterCards = document.querySelectorAll('.cluster-card');
    const form = document.getElementById('cluster-form');
    const codeInput = document.getElementById('selected_cluster_code');
    const nameInput = document.getElementById('selected_cluster_name');

    clusterCards.forEach(card => {
        card.addEventListener('click', () => {
            codeInput.value = card.dataset.code;
            nameInput.value = card.dataset.name;
            form.submit();
        });
    });
});
</script>
{% endblock %}